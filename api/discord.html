<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TFI Discord Verifier</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
  <body class="d-flex h-100">
    <div class="container-lg d-flex w-100 h-100 p-3 mx-auto flex-column">
      <header class="text-center">
        <h1>TFI Discord Verifier</h1>
      </header>
      <main class="px-3 mt-5 mb-auto">
        {{ if .Complete }}
        <p class="text-center">üòé You're all set! Check back in Discord</p>
        {{ else }}
        <h2 class="mt-5">Link your TFI membership</h2>
        {{ if gt (len .Error) 0 }}
        <div class="alert alert-danger" role="alert">
          {{ .Error }}
        </div>
        {{ end }}
        <p>To link your TFI membership to your Discord account, please enter your HID and PID below. This will give you access to member-restricted areas in Discord.</p>
        <p>You can find these values in the <a href="https://app.theforgeinitiative.org/">Member App</a> or use the <a href="https://www.tfaforms.com/4764292">recovery form</a> to have them emailed to you.</p>
        <form method="post" action="/discord/verify">
          <div class="mb-3">
            <label for="hid" class="form-label">Household ID (HID)</label>
            <input type="text" class="form-control" name="hid" id="hid" placeholder="H01234" pattern="H\d{5}" oninput="this.value = this.value.toUpperCase()" required>
          </div>
          <div class="mb-3">
            <label for="hid" class="form-label">Personal ID (PID)</label>
            <input type="text" class="form-control" name="pid" id="pid" placeholder="P012345" pattern="P\d{6}" oninput="this.value = this.value.toUpperCase()" required>
          </div>
          <div class="mb-3">
            <input id="submit" type="submit" class="form-control btn btn-primary" value="Submit">
          </div>
      </form>
      {{ end }}
      </main>
      <footer class="mt-5 text-center">
        <p>Made with ‚ù§Ô∏è for The Forge Initiative. Find this code on <a href="https://github.com/theforgeinitiative/integrations">GitHub</a></p>
      </footer>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>